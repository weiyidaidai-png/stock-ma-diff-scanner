# 股票均线差异筛选工具 - 新功能特性

## 🆕 新增功能

### 1. 可调短期均值周期
- **周期范围**：1～30单位
- **周期单位**：支持"日"或"月"选择
- **智能转换**：选择"月"时自动换算为交易日（1月≈20个交易日）
- **界面优化**：新增简洁的周期输入框和下拉选择控件

### 2. 增强的统计功能
- **自动统计**：筛选结果中自动统计上涨和下跌股票数量
- **统计摘要**：显示总股票数、上涨股票数、下跌股票数、平均差异百分比
- **结果展示**：在结果页面顶部显示统计信息，便于快速了解整体情况

## 🔧 技术改进

### 后端 API 增强
- **新参数支持**：
  - `short_period`: 短期周期数值（1-30）
  - `short_period_unit`: 周期单位（day/month）
- **智能转换**：月单位自动转换为交易日
- **统计数据**：API返回包含统计信息的结果

### 前端界面优化
- **参数配置区**：新增短期周期选择控件
- **结果展示区**：添加统计摘要信息
- **响应式设计**：保持原有界面的美观和响应式特性

## 📊 使用示例

### 配置参数
- **短期均值周期**：5日（或1月≈20日）
- **长期均值周期**：20日
- **差异百分比阈值**：5%

### 输出结果
- **统计摘要**：总股票数: 85 | 上涨股票: 50 | 下跌股票: 35 | 平均差异: +2.35%
- **股票列表**：显示每只股票的代码、名称、差异百分比、最新收盘价、长期均值、短期均值

## 🚀 启动方式

```bash
cd stock_ma_diff_tool2
python run.py
```

访问 http://localhost:5000 开始使用新功能！

## 🔄 与原版本的兼容性

- **配置文件**：保留原有的 Tushare API token 配置
- **数据格式**：保持与原有数据结构的兼容性
- **使用习惯**：界面操作逻辑保持一致

## 📈 应用场景

1. **短期趋势分析**：通过调整短期周期（如3日、5日、10日）观察股票短期走势
2. **中长期比较**：选择月单位（如1月、2月）进行更长期的趋势比较
3. **市场情绪判断**：通过上涨/下跌股票数量统计了解市场整体情绪
4. **量化策略研究**：基于不同周期组合进行量化策略回测

---

*本工具基于原有的股票均线差异筛选工具扩展，感谢原作者的基础架构支持！*
